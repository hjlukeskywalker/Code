<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열사용하기</title>
</head>
<body>
    <h1>배열을 선언하고 활용하기</h1>
    <p>
        자바스크립트에서 배열은 자바의 ArrayList랑 유사.
        1. 다수의 자료형을 보관가능
        2. 길이제한이 없다.
        3. 인덱스로 값을 접근함.
        * DB에서 데이터를 가져온 값, DOM객체를 가져왔을때 사용
    </p>
    <script>
        //배열선언하기
        //1. []표현 이용하기 : var||let test=[]; //자바에서 int arrint=new int[10]
        //2. Array객체 생성 : let test=new Array([길이]);

        let arr=[];
        console.log(arr.length);
        console.log(arr.push("abc"));
        arr=["유병승","정유정","장혜린","김예진"];
        console.log(arr);
        //자바스크립트 배열은 여러 자료형을 보관할 수 있다.
        arr=["유병승",19,180.5,{hobby:"코딩",item:"키보드"},function(){alert('배열내부 함수');}];
        console.log(arr);
        for(let i=0;i<arr.length;i++){
            console.log(arr[i],typeof arr[i]);
        }

        //배열의 값에 접근하기
        //기본적인 인덱스를 활용하여 접근을 한다
        console.log(arr[0]);
        console.log(arr[3].hobby);
        console.log(arr[4]);
        //arr[4]();

        //배열에 값 대입하기
        //인덱스로 접근해서 값을 대입하면 됨.
        console.log(arr[0]);
        arr[0]=200;
        console.log(arr[0]);

        console.log(arr.length);

        arr[10]="김지한 굿!";
        console.log(arr);
        console.log(arr[10]);
        for(let i=0;i<arr.length;i++){
            console.log(arr[i]);
        }
        console.log(arr.length);


        arr=[];
        console.log(arr);
        arr[5]=20;
        console.log(arr);


        //new 연산자를 이용해서 배열을 생성하기
        let arr2=new Array();
        console.log(arr2);
        arr2=new Array(10);
        console.log(arr2);
        arr2[20]=20;
        console.log(arr2);
        arr2=new Array("유병승",19,180.5,{item:"노트북",book:"복세편살이란?"},function(){alert("test");},[1,2,3,4,5]);
        console.log(arr2);
    </script>

    <h3>배열 내장함수 이용하기</h3>
    <h4>배열변수.indexOf(매개변수) : 배열에서 매개변수값과 일치하는 요소의 인덱스를 리턴해주는 함수</h4>
    <script>
        let students=["곽승혁","김두호","김동규","김상현","김예진"];
        let index=students.indexOf("장혜린");
        console.log(index);
    </script>

    배열에 지역 서울, 대전, 대구, 부산, 광주, 목포, 포항
    input태그로 입력받아 그 지역이 있는지 확인하고 
    있으면 인덱스를 div id="target" 에 출력

    <input type="text" id="city">
    <button onclick="checkCity();">도시찾기</button>
    <div id="target"></div>
    <script>
        let citys=["서울", "대전", "대구", "부산", "광주", '목포', '포항'];
        function checkCity(){
            let val=document.getElementById("city").value;
            let result=citys.indexOf(val); 
            if(result!=-1){
                document.getElementById("target").innerHTML=`<h3>인덱스번호 ${result} : 찾은 도시 ${citys[result]}</h3>`;
                "<h3>인덱스번호"+result+":찾은도시 "+citys[result]+"</h3>";
            }else{
                document.getElementById("target").innerHTML=`<p>${val}은 없습니다</p>`;
            }
        }
    </script>
    
    
    <!-- 배열에 음식 카레, 규동, 비빔밥, 스시, 김밥
    input태그로 입력받아 그 지역이 있는지 확인하고 
    있으면 인덱스를 div id="target" 에 출력
    
    <input type="text" id="food">
    <button onclick="checkFood();">음식찾기</button>
    <div id="target"></div>
    <script>
        let foods=["카레", "규동", "비빔밥", "스시", "김밥"];
        function checkFood(){
            let val=documen.getElementById("food").value;
            let result=foods.indexOf(val);
            if(result!=-1){
                document.getElementById("target").innerHTML=`<h3>인덱스 번호 ${result} : 찾은 음식 ${foods[result]}</h3>`;
                "<h3>인덱스번호"+result+":찾은음식"+foods[result]+"</h3>";
            }else{
                document.getElementById("target").innerHTML=`<p>${val}은 없습니다</p>`;
            }
        }
    </script> -->

    <h2>두개이상의 배열을 합치는 함수 : concat</h2>
    <button onclick="concatTest();">concatTest</button>
    <div id="area1"></div>
    <script>
        function concatTest(){
            let area=document.getElementById("area1");
            let animal=["강아지","고양이","원숭이","낙타","라마"];
            let food=["떡볶이","라면","칼국수","초밥"];
            //concat함수 매개변수 배열과 기준배열을 합쳐서 새로운 배열을 반환하는 기능
            let result=animal.concat(food);
            area.innerHTML=`<h3>합친결과 ${result}</h3>`;
            area.innerHTML+=`원본 : ${animal}<br>`;
            area.innerHTML+=`원본2 : ${food}`;
        }
    </script>

    <h3>배열을 문자열로 합쳐주는 함수 : join()</h3>
    <button onclick="joinTest()">join실행</button>
    <div id="area2"></div>
    <script>
        function joinTest(){
            let hobby=["코딩","영화감상","산책","게임"];
            let area=document.getElementById("area2");
            let strArr=hobby.join('-');
            area.innerHTML=`문자열결과 ${strArr} ${typeof strArr}`;
        }
    </script>

    <h3>배열의 순서를 변경해주는 함수:reverse()</h3>
    <button onclick="reverseTest();">순서변경 출력</button>
    <script>
        function reverseTest(){
            let numArr=[1,2,3,4,5,6];
            console.log(`변경전 : ${numArr}`)
            numArr.reverse();//원본값을 수정함.
            console.log(`변경후  : ${numArr}`);
            let strArr=["유병승","양호준","여진경","홍서연"];
            console.log(`변경전 : ${strArr}`);
            strArr.reverse();
            console.log(`변경후 : ${strArr}`);
        }
    </script>

    <h2>배열의 데이터를 순서정렬하는 함수 : sort()</h2>
    <p>
        정렬에 대한 함수를 만들어서 배열의 정렬을 시킴
        -, 0, + 리턴값을 이용해서 처리하게 됨. -> Collections.sort()
    </p>
    <button onclick="sortTest();">정렬하기</button>
    <div id="area3"></div>
    <script>
        function sortTest(){
            let area=document.getElementById("area3");
            let numArr=[1,5,8,2,5,9,3];
            numArr=['가','다','라','하','자','나'];
            area.innerHTML=`정렬전 : ${numArr}<br>`;
            //numArr.sort();//기본 오름차순정렬을 실행함
            //sort(함수자료형을 매개변수로 받음);
            //sort(function(left,right){return -||0||+});
            console.log(numArr[0]-numArr[1]);
            //let s=function(l,r){return r-l};
            let s=function(l,r){
                if(l>r) return -1;
                else if(l<r) return +1;
                else return 0;
            }
            numArr.sort(s);
            area.innerHTML+=`정렬후 : ${numArr}<br>`;
        }
    </script>


    <h3>배열의 데이터를 조작하는 함수</h3>
    <p>
        push() : 배열의 맨뒤에 요소를 추가하는 함수<br>
        pop() : 배열의 맨뒤 인덱스를 제거하는 함수 * 제거하면서 제거된 내용을 반환
    </p>
    <script>
        let arrItem=["물약","검","방패"];
        console.log(arrItem);
        arrItem.push("활");
        arrItem.push("활");
        arrItem.push("활");
        arrItem.push("활");
        console.log(arrItem);
        console.log(arrItem.pop());
        console.log(arrItem);
    </script>
    <p>
        shift() : 맨앞에 요소를 제거하는 함수
        unshift() : 맨앞에 요소를 추가하는 함수
    </p>
    <script>
        console.log(arrItem);
        arrItem.unshift("곡궁");
        console.log(arrItem);
        console.log(arrItem.shift());
        console.log(arrItem);
    </script>

    <p>
        slice() : 배열의 일부를 짤라내서 새 배열로 생성
        slice(시작인덱스번호, 끝인덱스번호);
        splice() : 배열의 특정위치 값을 지우고, 그 위치에 값을 추가
        splice(시작,지울갯수,추가할값[,추가값...]);
    </p>
    <script>
        let language=["java","oracle","jdbc","html","css","javascript"];
        //화면구현에 대한 내용을 따로 배열저장
        let front=language.slice(3,6);//특정부분의 값만 배열로 생성
        console.log(language);
        console.log(front);
        front=language.slice();//배열전체를 깊은복사기능!
        console.log(front);
        front=language.slice(3);//시작인덱스에서 배열length까지 복사
        console.log(front);
        //slice매개변수에 음수를 입력!
        front=language.slice(-2);//뒤에서부터 마이너스 인덱스가 부여됨
        console.log(`음수로 대입 : ${front}`);
        front=language.slice(-4,-1);
        console.log(`음수로 대입 : ${front}`);

        //일부값을 수정, 삭제
        console.log(`원본 : ${language}`);
        language.splice(2,1,'jtbc');//원본값을 수정함.
        console.log(`원본 : ${language}`);
        language.splice(2,1);
        console.log(`원본 : ${language}`);
        language.splice(2,0,'jdbc','유병승','곧 점심');
        console.log(`원본 : ${language}`);

    </script>
    

    <h2>배열에 있는 값을 필터하는 함수</h2>
    <p>
        includes() : 특정값이 배열에 있는지 확인하는 함수
        find() : 특정기준에 맞는 요소를 찾는 함수 -> 한개 만 
        filter() : 특정기준에 맞는 요소를 찾는 함수 -> 기준에 맞는 전체 다
    </p>
    <script>
        let height=[170.5,178.3,165.5,180.5,190,200];
        console.log(height.includes(165.5));
        console.log(height.includes(155.6));

        //find, filter함수는 기준을 매개변수로 전달해야함. -> 함수를 매개변수로 받음
        //매개변수 한개 갖는 함수를 매개변수로 받는다.
        let f=function(v){
            return 180<v;
        }
        let result=height.find(f);
        // let newarr=[]; 
        //for(let i=0;i<height.length;i++){
        // if(f(height[i])) newarr.push(height[i]);
        // }
        console.log(`원본 : ${height}`);
        console.log(`결과 : ${result}`);
        
        //result=height.filter(f);
        result=height.filter(function(v){
            return v>180;
        });
        console.log(`원본 : ${height}`);
        console.log(`결과 : ${result}`);
    </script>

    <h2>배열 값 순회하는 함수</h2>
    <p>
        forEach() : 배열에 있는 모든값을 접근하는것
        매개변수로 함수를 전달받음 매개변수가 두개를 받음
    </p>
    <script>
        for(let i=0;i<height.length;i++){
            console.log(height[i]);
        }
        let f1=function(value,index,arr){
            console.log(`인덱스 : ${index} 값 : ${value} 현재배열 : ${arr}`);
        }
        height.forEach(f1);//배열자료형에서만 사용이 가능함.
        let el=document.getElementsByTagName("p");
        console.log(el);
        
        //Array.prototype.forEach.call(el,f1);
    </script>

    <h3>누적계산을 해주는 함수</h3>
    <p>
        reduce(함수[,초기값]) : 특정변수에 return값을 지속저장하는 함수
        매개변수로 함수를 전달받음
        그 매개변수함수는 두개의 매개변수가 있음
        첫번째 : 초기값(0번 인덱스값)
        두번째 : 다음값
        return 값이 처음매개변수에 대입됨.
        * 초기값을 담는 변수에
    </p>
    <script>
        height[10]=190.8;
        let count=1;
        let result2=height.reduce(function(total,nextval){
            console.log(total,nextval);
            count++;
            return total+nextval;
        },3);
        console.log(`합계 : ${result2} 평균 : ${result2/count}`);
    </script>

</body>
</html>